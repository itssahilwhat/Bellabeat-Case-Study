---
title: "Bellabeat Data Analysis"
output: html_document
---

## Characters and Products

### Characters
- **Urška Sršen**: Bellabeat’s cofounder and Chief Creative Officer
- **Sando Mur**: Mathematician and Bellabeat’s cofounder; key member of the Bellabeat executive team
- **Bellabeat marketing analytics team**: A team of data analysts responsible for collecting, analyzing, and reporting data that helps guide Bellabeat’s marketing strategy. You joined this team six months ago and have been busy learning about Bellabeat’s mission and business goals — as well as how you, as a junior data analyst, can help Bellabeat achieve them.

### Products
- **Bellabeat app**: The Bellabeat app provides users with health data related to their activity, sleep, stress, menstrual cycle, and mindfulness habits. This data can help users better understand their current habits and make healthy decisions. The Bellabeat app connects to their line of smart wellness products.
- **Leaf**: Bellabeat’s classic wellness tracker that can be worn as a bracelet, necklace, or clip. The Leaf tracker connects to the Bellabeat app to track activity, sleep, and stress.
- **Time**: This wellness watch combines the timeless look of a classic timepiece with smart technology to track user activity, sleep, and stress. The Time watch connects to the Bellabeat app to provide users with insights into their daily wellness.
- **Spring**: This is a water bottle that tracks daily water intake using smart technology to ensure that users stay hydrated throughout the day. The Spring bottle connects to the Bellabeat app to track hydration levels.
- **Bellabeat membership**: Bellabeat offers a subscription-based membership program for users. Membership gives users 24/7 access to fully personalized guidance on nutrition, activity, sleep, health, beauty, and mindfulness based on their lifestyle and goals.

## Step 1: Ask

Sršen asks you to analyze smart device usage data to gain insight into how consumers use non-Bellabeat smart devices. She then wants you to select one Bellabeat product to apply these insights to in your presentation. These questions will guide your analysis:

1. What are some trends in smart device usage?
2. Who are the main stakeholders?
3. How could these trends apply to Bellabeat customers?
4. How could these trends help influence Bellabeat's marketing strategy?

### Deliverables
You will produce a repo with the following deliverables:

1. A clear summary of the business task
2. A description of all data sources used
3. Documentation of any cleaning or manipulation of data
4. A summary of your analysis
5. Supporting visualizations and key findings
6. Your top high-level content recommendations based on your analysis

### Things to Consider
- Define the problem you’re trying to solve
- Make sure you fully understand the stakeholder’s expectations
- Focus on the actual problem and avoid any distractions
- Collaborate with stakeholders and keep an open line of communication
- Take a step back and see the whole situation in context

### Questions to Ask Yourself in This Step:
- What are my stakeholders saying their problems are?
- Now that I’ve identified the issues, how can I help the stakeholders resolve their questions?

## Key Tasks
1. Identify the business task
2. Consider key stakeholders

## Deliverable
A clear statement of the business task

## Step 2: Prepare

Sršen encourages you to use public data that explores smart device users’ daily habits. She points you to a specific dataset:

- [**FitBit Fitness Tracker Data**](https://www.kaggle.com/datasets/arashnic/fitbit) (CC0: Public Domain, dataset made available through Mobius): This Kaggle dataset contains personal fitness tracker data from Fitbit users. These eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. It includes information about daily activity, steps, and heart rate that can be used to explore users’ habits.

Sršen tells you that this dataset might have some limitations and encourages you to consider adding another dataset to help address those limitations as you begin to work more with this data.


#### Guiding Questions
1. **Where is your data stored?**
    The data is stored on Kaggle, a popular platform for sharing datasets. Specifically, it can be found on the [Fitbit Fitness Tracker Data](https://www.kaggle.com/datasets/arashnic/fitbit) page. You can download the dataset directly from Kaggle to your local machine or cloud storage, depending on where you are working.

2. **How is the data organized? Is it in long or wide format?**
    The dataset is likely organized in **wide format**, where each column represents a specific feature (e.g., `steps`, `heart_rate`, `activity_level`) and each row represents a time series data entry (such as a day's worth of data for a user). In general, Fitbit datasets from platforms like this are stored in this format to make it easy to analyze time-based data for individual users or groups of users.

3. **Are there issues with bias or credibility in this data? Does your data ROCCC?**
   - **Bias:** Since the data is from Fitbit users who opted to share their information, it could be biased toward people who are already health-conscious or who are more active. The dataset may not represent the general population, which could affect the generalizability of any insights derived.
   - **Credibility:** The data comes from a reputable source (Fitbit users who consented to share their data), which enhances its credibility. However, users might not always use the device consistently or might have different interpretations of tracking features.
   - **ROCCC (Reliable, Original, Complete, Current, and Cited):** This dataset is **reliable** (from Fitbit), **original** (personal data collected through Fitbits), **complete** (contains various metrics for activity, sleep, heart rate), **current** (as of when it was last uploaded), and **cited** (available on Kaggle with proper attribution).

4. **How are you addressing licensing, privacy, security, and accessibility?**
   - **Licensing:** The dataset is available under the **CC0: Public Domain** license, which means it can be freely used without restrictions.
   - **Privacy:** The dataset does not contain personally identifiable information, as users have consented to provide fitness and activity data anonymously. It's essential to ensure that privacy concerns are addressed by not sharing any personal or sensitive data.
   - **Security:** The data itself does not present security risks, but you should store the dataset in a secure location (local machine or cloud with appropriate encryption).
   - **Accessibility:** The dataset is publicly accessible on Kaggle, and users can download it with a Kaggle account. It's essential to ensure that any findings and analyses are shared in an accessible way for stakeholders and team members.

5. **How did you verify the data’s integrity?**
    The dataset's integrity can be verified by:
        - **Checking the source**: Confirming that the data comes from a reliable platform like Kaggle and is maintained by a reputable user or organization.
        - **Ensuring data consistency**: Analyzing if there are missing values, duplicates, or any obvious errors in the data entries (e.g., negative step counts, impossible heart rate values).
        - **Cross-referencing with other sources**: If needed, you can verify some of the patterns or values by comparing them with other publicly available Fitbit datasets or reports to ensure consistency.

6. **How does it help you answer your question?**
    This dataset is directly relevant to answering your business task since it provides detailed data on **user activity**, **sleep patterns**, and **heart rate**, which are crucial aspects of wellness tracked by Fitbit devices. By analyzing this data, you can identify trends in smart device usage, particularly focusing on the behavior of users related to their health and wellness. These insights can then be applied to Bellabeat’s products like the Leaf, Time, and Spring, helping to inform marketing strategies and product development.

7. **Are there any problems with the data?**
    Possible issues with the data might include:
        - **Incomplete or missing data**: Users might not have fully utilized their devices or might have data gaps.
        - **Inconsistent usage**: Users may not consistently wear or use their devices, leading to uneven data for certain days.
        - **Limited data on non-Bellabeat users**: Since this data only involves Fitbit users, it does not capture insights from people using other types of smart devices, which might limit the generalizability of the findings for Bellabeat’s diverse customer base.

#### Key Tasks
1. **Download data and store it appropriately.**
2. **Identify how it’s organized.**
3. **Sort and filter the data.**
4. **Determine the credibility of the data.**


#### Install Packages
```{r}
install.packages("tidyverse")
install.packages("lubridate")
install.packages("dplyr")
install.packages("ggplot2")
install.packages("tidyr")
install.packages("here")
install.packages("skimr")
install.packages("janitor")
```

#### Load Libraries
```{r}
library(tidyverse)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
library(here)
library(skimr)
library(janitor)
```




```{r}
daily_activity <- read_csv("Datasets/mturkfitbit_export_4.12.16-5.12.16/Fitabase Data 4.12.16-5.12.16/dailyActivity_merged.csv")
daily_calories <- read_csv("Datasets/mturkfitbit_export_4.12.16-5.12.16/Fitabase Data 4.12.16-5.12.16/dailyCalories_merged.csv")
daily_intensities <- read_csv("Datasets/mturkfitbit_export_4.12.16-5.12.16/Fitabase Data 4.12.16-5.12.16/dailyIntensities_merged.csv")
heartrate <- read_csv("Datasets/mturkfitbit_export_4.12.16-5.12.16/Fitabase Data 4.12.16-5.12.16/heartrate_seconds_merged.csv")
weight_log <- read_csv("Datasets/mturkfitbit_export_4.12.16-5.12.16/Fitabase Data 4.12.16-5.12.16/weightLogInfo_merged.csv")
sleep <- read_csv("Datasets/mturkfitbit_export_4.12.16-5.12.16/Fitabase Data 4.12.16-5.12.16/sleepDay_merged.csv")
```

```{r}
head(daily_activity)
colnames(daily_activity)
str(daily_activity)
glimpse(daily_activity)
```

```{r}
head(daily_calories)
colnames(daily_calories)
str(daily_calories)
glimpse(daily_calories)
```

```{r}
head(daily_intensities)
colnames(daily_intensities)
str(daily_intensities)
glimpse(daily_intensities)
```


```{r}
head(heartrate)
colnames(heartrate)
str(heartrate)
glimpse(heartrate)
```

```{r}
head(weight_log)
colnames(weight_log)
str(weight_log)
glimpse(weight_log)
```

```{r}
head(sleep)
colnames(sleep)
str(sleep)
glimpse(sleep)
```

## Step 3: Process

Then, process your data for analysis using the following Case Study Roadmap as a guide:

### Guiding Questions
- What tools are you choosing and why?
- Have you ensured your data’s integrity?
- What steps have you taken to ensure that your data is clean?
- How can you verify that your data is clean and ready to analyze?
- Have you documented your cleaning process so you can review and share those results?

### Key Tasks
1. Check the data for errors.
2. Choose your tools.
3. Transform the data so you can work with it effectively.
4. Document the cleaning process.

### Deliverable
Documentation of any cleaning or manipulation of data.

---

## Follow These Steps

1. Download the dataset.
2. Unzip the files.
3. Create a folder on your desktop or Drive to house the files. Use appropriate file-naming conventions. If you need a refresher on file-naming conventions, you can revisit the “All about file naming” video or the “Organization guidelines” reading.
4. Upload the data to a tool of your choice. For a refresher on some different ways to do this, feel free to reference any of the following resources on how to get started in the following tools (proceed to next page):

### Spreadsheets
- **Importing data from spreadsheets**: This video from Course 3 will guide you through the steps you will follow to import data into your spreadsheet. This is useful if you want to perform your cleaning and analysis with spreadsheets.

### SQL
- **Uploading a CSV file in BigQuery**: These step-by-step instructions will guide you through the process of uploading your CSV file into BigQuery so that you can start working with your data in SQL.
- **Cleaning string variables using SQL**: This video from Course 4 covers some key cleaning techniques for string data in SQL.

### R
- **Data import basics**: This reading from Course 7 will review importing data into R so that you can begin cleaning and analyzing it. If you are planning to use R for your case study, this is a useful starting point.
- **Cleaning up with the basics**: This video from Course 7 will guide you through some basic R cleaning functions that you will need to process your data for analysis.
- **Even more data-cleaning techniques**: This video from Course 4 covers even more techniques you can use to clean your data and prepare it for analysis.
- **Advanced data-cleaning functions part 1 and part 2**: These videos cover more advanced cleaning functions that are a great refresher as you begin to work more closely.
- **Transforming data**: This video from Course 7 covers transforming data in R so that it is organized and formatted for easy analysis.

5. Proceed to the analyze step.

If you like, continue working with the data to better familiarize yourself and perhaps even identify new approaches to answering the business questions.

```{r}
skim_without_charts(daily_activity)
skim_without_charts(daily_calories)
skim_without_charts(daily_intensities)
skim_without_charts(heartrate)
skim_without_charts(weight_log)
skim_without_charts(sleep)
```

```{r}
daily_activity_clean <- daily_activity %>%
    clean_names()
daily_calories_clean <- daily_calories %>%
    clean_names()
daily_intensities_clean <- daily_intensities %>%
    clean_names()
heartrate_clean <- heartrate %>%
    clean_names()
weight_log_clean <- weight_log %>%
    clean_names()
sleep_clean <- sleep %>%
    clean_names()
```

```{r}
daily_activity_clean$activity_date <- as.Date(daily_activity_clean$activity_date)
daily_calories_clean$activity_date <- as.Date(daily_calories_clean$activity_date)
daily_intensities_clean$activity_date <- as.Date(daily_intensities_clean$activity_date)
heartrate_clean$datetime <- as.POSIXct(heartrate_clean$datetime, format = "%Y-%m-%d %H:%M:%S")
weight_log_clean$log_date <- as.Date(weight_log_clean$log_date)
sleep_clean$sleep_day <- as.Date(sleep_clean$sleep_day)
```